<!DOCTYPE html>
<html>
<head>
    <title>Matrix inverse</title>
</head>
<body>
    <p align="center">
        RESULTS:
        <br/>
        <a href="https://pknipp.github.io/math">
            Return
        </a>
        to the "Instructions" page.
        <br/>
        determinant = {{determinant}}
        <br/>
        {%if warning %}
            {{warning}}
        {% endif %}
    </p>
    <div style="display:flex; justify-content:center;">
        <table border="1">
            <thead>
                <tr>
                    <th colspan="{{n}}">
                        original matrix
                    </th>
                    {% if inhomogeneous_part %}
                        <th colspan="{{m}}">
                            inhomogeneous part
                        </th>
                    {% endif %}
                </tr>
            </thead>
            <tbody>
                {% for i, row in original_matrix %}
                    <tr>
                        {% for element in row %}
                            <td style=text-align:center>
                                {{element}}
                            </td>
                        {% endfor %}
                        {% for column in inhomogeneous_part%}
                            <td style=text-align:center>
                                {{column[i]}}
                            </td>
                        {% endfor %}
                    </tr>
                {% endfor %}
            </tbody>
            <thead>
                <tr>
                    <th colspan="{{n}}">
                        inverse matrix
                    </th>
                    {% if inhomogeneous_part %}
                        <th colspan="{{m}}">
                            solution
                        </th>
                    {% endif %}
                </tr>
            </thead>
            <tbody>
                {% if inverse_matrix %}
                    {% for i, row in inverse_matrix %}
                        <tr>
                            {% for element in row %}
                                <td style=text-align:center>
                                    {{element}}
                                </td>
                            {% endfor %}
                            {% for column in solutions %}
                                <td style=text-align:center>
                                    {{column[i]}}
                                </td>
                            {% endfor %}
                        </tr>
                    {% endfor %}
                {% else %}
                    <tr>
                        <!-- For some reason jinja2 wants this +1 -->
                        <td rowspan="{{n + 1}}" colspan="{{n}}" style=text-align:center>
                            does<br/>not<br/>exist
                        </td>
                    </tr>
                    {% for i in range(n) %}
                        <tr>
                            {% for column in solutions %}
                                <td style=text-align:center rowspan="1">
                                    {{column[i]}}
                                </td>
                            {% endfor %}
                        </tr>
                    {% endfor %}
                {% endif %}
            </tbody>
        </table>
    </div>
</body>
</html>
